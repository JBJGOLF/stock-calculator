<!-- ì£¼ì‹ ìˆ˜ìµë¥  ê³„ì‚°ê¸° -->
<div id="sc-box" style="max-width: 100%; margin: 20px auto; font-family: sans-serif; background: linear-gradient(145deg,#e8e8e8,#f5f5f5); border-radius: 10px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.15),inset 0 1px 1px rgba(255,255,255,0.6); border: 1px solid #d1d1d1;">
<div style="text-align: center; margin-bottom: 15px;">
<p style="font-size: 32px; margin: 0 0 10px; color: #4a4a4a; text-shadow: 0 1px 1px rgba(255,255,255,0.5);"><span style="font-size: 22px; font-weight: 600;">ì£¼ì‹ ìˆ˜ìµë¥  ê³„ì‚°ê¸° ğŸ“ˆ</span></p>
</div>

<div style="background: linear-gradient(to bottom,#fff,#f9f9f9); padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #d1d1d1; box-shadow: 0 2px 6px rgba(0,0,0,0.05);">
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #4a4a4a;">ğŸ“Š ì¦ê¶Œ ì¢…ë¥˜</label>
        <select id="sc-market-type" style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #d1d1d1; border-radius: 5px; box-sizing: border-box; background: #fffcf5; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);">
            <option value="kospi">ì½”ìŠ¤í”¼</option>
            <option value="kosdaq">ì½”ìŠ¤ë‹¥</option>
        </select>
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #4a4a4a;">ğŸ’° í‰ê·  ë§¤ìˆ˜ê°€</label>
        <div style="position: relative;">
            <input id="sc-buy-price" style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #d1d1d1; border-radius: 5px; box-sizing: border-box; background: #fffcf5; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);" type="text" placeholder="í‰ê·  ë§¤ìˆ˜ê°€ ì…ë ¥" />
            <span style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #4a4a4a; font-weight: bold;">ì›</span>
        </div>
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #4a4a4a;">ğŸ”¢ ì£¼ì‹ ë³´ìœ ëŸ‰</label>
        <div style="position: relative;">
            <input id="sc-quantity" style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #d1d1d1; border-radius: 5px; box-sizing: border-box; background: #fffcf5; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);" type="text" placeholder="ë³´ìœ  ìˆ˜ëŸ‰ ì…ë ¥" />
            <span style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #4a4a4a; font-weight: bold;">ì£¼</span>
        </div>
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #4a4a4a;">ğŸ“ˆ í˜„ì¬ê°€</label>
        <div style="position: relative;">
            <input id="sc-current-price" style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #d1d1d1; border-radius: 5px; box-sizing: border-box; background: #fffcf5; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);" type="text" placeholder="í˜„ì¬ ì£¼ê°€ ì…ë ¥" />
            <span style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #4a4a4a; font-weight: bold;">ì›</span>
        </div>
    </div>
    
    <div style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #4a4a4a;">ğŸ¦ ì¦ê¶Œì‚¬ ì„ íƒ</label>
        <select id="sc-broker" style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #d1d1d1; border-radius: 5px; box-sizing: border-box; background: #fffcf5; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);" onchange="updateCommission()">
            <option value="direct">ì§ì ‘ ì…ë ¥</option>
            <option value="0.01">NHíˆ¬ìì¦ê¶Œ (ë‚˜ë¬´ì¦ê¶Œ) - 0.01%</option>
            <option value="0.014">í•œêµ­íˆ¬ìì¦ê¶Œ - 0.014%</option>
            <option value="0.014">ì‹ í•œíˆ¬ìì¦ê¶Œ - 0.014%</option>
            <option value="0.014">ëŒ€ì‹ ì¦ê¶Œ - 0.014%</option>
            <option value="0.015">í‚¤ì›€ì¦ê¶Œ - 0.015%</option>
            <option value="0.015">ë¯¸ë˜ì—ì…‹ì¦ê¶Œ - 0.015%</option>
            <option value="0.015">KBì¦ê¶Œ - 0.015%</option>
            <option value="0.015">ìœ ì•ˆíƒ€ì¦ê¶Œ - 0.015%</option>
            <option value="0.015">í•˜ì´íˆ¬ìì¦ê¶Œ - 0.015%</option>
            <option value="0.015">í† ìŠ¤ì¦ê¶Œ - 0.015%</option>
            <option value="0.015">ì¹´ì¹´ì˜¤í˜ì´ì¦ê¶Œ - 0.015%</option>
            <option value="0.147">ì‚¼ì„±ì¦ê¶Œ - 0.147%</option>
        </select>
    </div>
    
    <div id="sc-commission-group" style="margin-bottom: 12px;">
        <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #4a4a4a;">ğŸ“Š ìˆ˜ìˆ˜ë£Œ ì§ì ‘ ì…ë ¥</label>
        <div style="position: relative;">
            <input id="sc-commission" style="width: 100%; padding: 10px; font-size: 16px; border: 1px solid #d1d1d1; border-radius: 5px; box-sizing: border-box; background: #fffcf5; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);" step="0.001" type="number" placeholder="ìˆ˜ìˆ˜ë£Œìœ¨ ì…ë ¥" />
            <span style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #4a4a4a; font-weight: bold;">%</span>
        </div>
    </div>
</div>

<!-- ê´‘ê³  ì˜ì—­ 1 - ê³ ì •ëœ ë†’ì´ì™€ ì˜¤ë²„í”Œë¡œìš° ìˆ¨ê¹€ -->
<div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1274782176645203"
     crossorigin="anonymous"></script>
<!-- ìƒë‹¨ ìš°ì¸¡ -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1274782176645203"
     data-ad-slot="5313390098"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>

<button id="sc-calc-btn" style="width: 100%; background: linear-gradient(145deg,#5a5a5a,#3a3a3a); color: white; border: none; padding: 24px; font-size: 18px; font-weight: bold; border-radius: 5px; cursor: pointer; margin-top: 15px; box-shadow: 0 3px 6px rgba(0,0,0,0.3); text-shadow: 0 1px 1px rgba(0,0,0,0.3); transition: all 0.3s; position: relative; overflow: hidden; z-index: 1;">ê³„ì‚°í•˜ê¸°</button>

<div id="sc-result" style="display: none; margin-top: 20px; background: linear-gradient(to bottom,#fff,#f9f9f9); padding: 15px; border-radius: 8px; border: 1px solid #d1d1d1; box-shadow: 0 2px 6px rgba(0,0,0,0.05);">
    <div style="margin-bottom: 10px; border-bottom: 1px solid #e0e0e0; padding-bottom: 8px;">
        <div style="text-align: center; padding: 3px; margin-bottom: 3px;">
            <div style="font-size: 13px; color: #4a4a4a; margin-bottom: 2px; font-weight: bold;">íˆ¬ì ì •ë³´</div>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
            <div style="text-align: center; flex: 1; padding: 5px;">
                <div style="font-size: 13px; color: #4a4a4a; margin-bottom: 2px; font-weight: bold;">ë§¤ìˆ˜ê°€</div>
                <div id="sc-res-buy-price" style="font-weight: bold; color: #333;"></div>
            </div>
            <div style="text-align: center; flex: 1; padding: 5px;">
                <div style="font-size: 13px; color: #4a4a4a; margin-bottom: 2px; font-weight: bold;">ë³´ìœ ëŸ‰</div>
                <div id="sc-res-quantity" style="font-weight: bold; color: #333;"></div>
            </div>
            <div style="text-align: center; flex: 1; padding: 5px;">
                <div style="font-size: 13px; color: #4a4a4a; margin-bottom: 2px; font-weight: bold;">í˜„ì¬ê°€</div>
                <div id="sc-res-current-price" style="font-weight: bold; color: #333;"></div>
            </div>
        </div>
    </div>
    
    <div style="text-align: center; margin-bottom: 10px; padding: 12px; border-radius: 8px; background: linear-gradient(145deg,#f0f0f0,#fdfdfd); box-shadow: inset 0 1px 1px rgba(255,255,255,0.6), 0 1px 3px rgba(0,0,0,0.05); border: 1px solid #e0e0e0;">
        <div style="font-size: 14px; color: #4a4a4a; margin-bottom: 3px; font-weight: bold;">ë§¤ìˆ˜ ê¸ˆì•¡</div>
        <div id="sc-res-buy-amount" style="font-size: 20px; font-weight: bold; color: #333; text-shadow: 0 1px 1px rgba(255,255,255,0.7);"></div>
    </div>
    
    <div style="text-align: center; margin-bottom: 10px; padding: 12px; border-radius: 8px; background: linear-gradient(145deg,#f0f0f0,#fdfdfd); box-shadow: inset 0 1px 1px rgba(255,255,255,0.6), 0 1px 3px rgba(0,0,0,0.05); border: 1px solid #e0e0e0;">
        <div style="font-size: 14px; color: #4a4a4a; margin-bottom: 3px; font-weight: bold;">ë§¤ë„ ê¸ˆì•¡</div>
        <div id="sc-res-sell-amount" style="font-size: 20px; font-weight: bold; color: #333; text-shadow: 0 1px 1px rgba(255,255,255,0.7);"></div>
    </div>
    
    <div style="text-align: center; margin-bottom: 10px; padding: 12px; border-radius: 8px; background: linear-gradient(145deg,#f0f0f0,#fdfdfd); box-shadow: inset 0 1px 1px rgba(255,255,255,0.6), 0 1px 3px rgba(0,0,0,0.05); border: 1px solid #e0e0e0;">
        <div style="font-size: 14px; color: #4a4a4a; margin-bottom: 3px; font-weight: bold;">ìˆ˜ìµë¥ </div>
        <div id="sc-res-rate" style="font-size: 24px; font-weight: bold; text-shadow: 0 1px 1px rgba(255,255,255,0.7);"></div>
    </div>
    
    <div style="text-align: center; margin-bottom: 10px; padding: 12px; border-radius: 8px; background: linear-gradient(145deg,#f0f0f0,#fdfdfd); box-shadow: inset 0 1px 1px rgba(255,255,255,0.6), 0 1px 3px rgba(0,0,0,0.05); border: 1px solid #e0e0e0;">
        <div style="font-size: 14px; color: #4a4a4a; margin-bottom: 3px; font-weight: bold;">ìˆ˜ìµ ê¸ˆì•¡</div>
        <div id="sc-res-profit" style="font-size: 24px; font-weight: bold; text-shadow: 0 1px 1px rgba(255,255,255,0.7);"></div>
    </div>
    
    <!-- ê´‘ê³  ì˜ì—­ 2 - ê³ ì •ëœ ë†’ì´ì™€ ì˜¤ë²„í”Œë¡œìš° ìˆ¨ê¹€ -->
    <div style="border: 1px dashed #888; border-radius: 5px; padding: 10px; margin: 15px 0; text-align: center; background: #f9f9f9; max-width: 100%; height: 320px; overflow: hidden; position: relative;">
        <div style="font-size: 18px; color: #4a4a4a; margin-bottom: -20px; font-weight: bold; text-align: center;">âœ¨ ì˜¤ëŠ˜ì˜ íŠ¹ê°€ì œí’ˆ</div>
        <div style="max-width: 100%; height: 340px; overflow: hidden; position: relative;">
          <script src="https://ads-partners.coupang.com/g.js"></script>
<script>
	new PartnersCoupang.G({"id":632732,"template":"carousel","trackingCode":"AF9512637","width":"100%","height":"250","tsource":""});
</script>
        </div>
    </div>
    
    <button id="sc-reset-btn" style="width: 100%; background: linear-gradient(145deg,#c14040,#9e2a2a); color: white; border: none; padding: 24px; font-size: 18px; font-weight: bold; border-radius: 5px; cursor: pointer; box-shadow: 0 3px 6px rgba(0,0,0,0.2); text-shadow: 0 1px 1px rgba(0,0,0,0.3); transition: all 0.3s; position: relative; overflow: hidden; z-index: 1; margin-top: 15px;">ë‹¤ì‹œ ê³„ì‚°í•˜ê¸°</button>
</div>

<style>
    @keyframes scShine {
      0% { transform: translateX(-100%) skewX(-15deg); }
      100% { transform: translateX(200%) skewX(-15deg); }
    }
    
    /* ê´‘ê³  ì˜ì—­ í†µì œë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ */
    #sc-box .adsbygoogle,
    #sc-box iframe {
      max-width: 100% !important;
      max-height: 100% !important;
      overflow: hidden !important;
    }
</style>

<script>
(function(){
    // ìˆ«ì í¬ë§·íŒ… í•¨ìˆ˜
    function formatNumber(e){
        let v=e.value.replace(/[^\d]/g,'');
        e.value=v?parseInt(v).toLocaleString():'';
    }
    
    // ìˆ«ì ì¶”ì¶œ í•¨ìˆ˜
    function extractNumber(v){
        return v?parseFloat(v.replace(/,/g,'')):0;
    }
    
    // ë²„íŠ¼ íš¨ê³¼ ì¶”ê°€ í•¨ìˆ˜
    function addShineEffect(btn){
        btn.addEventListener('mouseover',function(){
            let shine=document.createElement('div');
            shine.style.position='absolute';
            shine.style.top='0';
            shine.style.left='0';
            shine.style.width='30px';
            shine.style.height='100%';
            shine.style.background='linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,0.8) 50%,rgba(255,255,255,0) 100%)';
            shine.style.transform='translateX(-100%) skewX(-15deg)';
            shine.style.animation='scShine 1.5s infinite';
            this.appendChild(shine);
        });
        
        btn.addEventListener('mouseout',function(){
            let shines=this.querySelectorAll('div');
            shines.forEach(shine=>shine.remove());
        });
    }
    
    // ë²„íŠ¼ íš¨ê³¼ ì„¤ì •
    const calcBtn=document.getElementById('sc-calc-btn');
    const resetBtn=document.getElementById('sc-reset-btn');
    
    // í˜¸ë²„ íš¨ê³¼
    calcBtn.addEventListener('mouseover',function(){
        this.style.boxShadow='0 5px 10px rgba(0,0,0,0.4)';
        this.style.transform='translateY(-2px)';
    });
    
    calcBtn.addEventListener('mouseout',function(){
        this.style.boxShadow='0 3px 6px rgba(0,0,0,0.3)';
        this.style.transform='translateY(0)';
    });
    
    resetBtn.addEventListener('mouseover',function(){
        this.style.boxShadow='0 5px 10px rgba(0,0,0,0.3)';
        this.style.transform='translateY(-2px)';
    });
    
    resetBtn.addEventListener('mouseout',function(){
        this.style.boxShadow='0 3px 6px rgba(0,0,0,0.2)';
        this.style.transform='translateY(0)';
    });
    
    // ë°˜ì§ì„ íš¨ê³¼ ì¶”ê°€
    addShineEffect(calcBtn);
    addShineEffect(resetBtn);
    
    // ì¦ê¶Œì‚¬ ì„ íƒì— ë”°ë¥¸ ìˆ˜ìˆ˜ë£Œ ì…ë ¥ë€ í‘œì‹œ ì—¬ë¶€
    window.updateCommission = function(){
        const brokerSelect=document.getElementById('sc-broker');
        const commissionGroup=document.getElementById('sc-commission-group');
        const commissionInput=document.getElementById('sc-commission');
        
        if(brokerSelect.value==='direct'){
            commissionGroup.style.display='block';
        } else {
            commissionGroup.style.display='none';
            commissionInput.value=brokerSelect.value;
        }
    };
    
    // ê³„ì‚°í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    calcBtn.onclick=function(){
        const avgBuyPrice=extractNumber(document.getElementById('sc-buy-price').value);
        const stockQuantity=extractNumber(document.getElementById('sc-quantity').value);
        const currentPrice=extractNumber(document.getElementById('sc-current-price').value);
        const commissionRate=parseFloat(document.getElementById('sc-commission').value || document.getElementById('sc-broker').value)/100;
        
        // ì…ë ¥ê°’ ê²€ì¦
        if(!avgBuyPrice || !stockQuantity || !currentPrice){
            alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }
        
        // ê³„ì‚°
        const buyAmount=avgBuyPrice*stockQuantity;
        const sellAmountBeforeFee=currentPrice*stockQuantity;
        const sellFee=sellAmountBeforeFee*commissionRate;
        const sellAmount=sellAmountBeforeFee-sellFee;
        const profitAmount=sellAmount-buyAmount;
        const profitRate=(profitAmount/buyAmount)*100;
        
        // ê²°ê³¼ í‘œì‹œ
        document.getElementById('sc-res-buy-price').textContent=avgBuyPrice.toLocaleString()+'ì›';
        document.getElementById('sc-res-quantity').textContent=stockQuantity.toLocaleString()+'ì£¼';
        document.getElementById('sc-res-current-price').textContent=currentPrice.toLocaleString()+'ì›';
        document.getElementById('sc-res-buy-amount').textContent=buyAmount.toLocaleString()+'ì›';
        document.getElementById('sc-res-sell-amount').textContent=sellAmount.toLocaleString()+'ì›';
        
        const rateElement=document.getElementById('sc-res-rate');
        rateElement.textContent=profitRate.toFixed(2)+'%';
        
        const profitElement=document.getElementById('sc-res-profit');
        profitElement.textContent=profitAmount.toLocaleString()+'ì›';
        
        // ìˆ˜ìµ/ì†ì‹¤ì— ë”°ë¥¸ ìƒ‰ìƒ ì ìš©
        if(profitAmount>0){
            rateElement.style.color='#ef4444';
            profitElement.style.color='#ef4444';
        } else {
            rateElement.style.color='#3b82f6';
            profitElement.style.color='#3b82f6';
        }
        
        // ê²°ê³¼ í‘œì‹œ
        document.getElementById('sc-result').style.display='block';
        
        // ê²°ê³¼ ì˜ì—­ìœ¼ë¡œ ìŠ¤í¬ë¡¤
        window.scrollTo({
            top: document.getElementById('sc-result').offsetTop-10,
            behavior: 'smooth'
        });
        
        // ê´‘ê³  ìƒˆë¡œê³ ì¹¨ ì‹œë„
        try {
            (adsbygoogle=window.adsbygoogle||[]).push({});
        } catch(e){
            console.log('ê´‘ê³  ìƒˆë¡œê³ ì¹¨ ì˜¤ë¥˜:',e);
        }
    };
    
    // ë‹¤ì‹œ ê³„ì‚°í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    resetBtn.onclick=function(){
        document.getElementById('sc-buy-price').value='';
        document.getElementById('sc-quantity').value='';
        document.getElementById('sc-current-price').value='';
        document.getElementById('sc-broker').value='direct';
        document.getElementById('sc-commission').value='';
        document.getElementById('sc-result').style.display='none';
        
        // ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤
        window.scrollTo({
            top: document.getElementById('sc-box').offsetTop-10,
            behavior: 'smooth'
        });
        
        // ì¦ê¶Œì‚¬ ì„ íƒì— ë”°ë¥¸ ìˆ˜ìˆ˜ë£Œ ì…ë ¥ë€ ìƒíƒœ ì—…ë°ì´íŠ¸
        updateCommission();
    };
    
    // ìˆ«ì ì…ë ¥ í•„ë“œì— í¬ë§·íŒ… ì´ë²¤íŠ¸ ì¶”ê°€
    ['sc-buy-price','sc-quantity','sc-current-price'].forEach(i=>
        document.getElementById(i).addEventListener('input',function(){
            formatNumber(this);
        })
    );
    
    // ì´ˆê¸° ì„¤ì •
    updateCommission();
})();
</script>
</div>